.. contents:: Оглавление
    :depth: 2



Расположение и краткое описание моделей
=======================================


Приложение monitor
------------------

#. **Profile** - для хранения интерфейсных настроек пользователей Оперативного журнала
#. **events** - для хранения событий (загружается из zenoss Красноярска, можно добавлять вручную оператором или формировать на основе почтовых сообщений)
#. **accidents** - для хранения созданных оператором аварий на основе одиночного события или группы событий.
#. **messages** - для хранения подготовленных для рассылки оповещений.
#. **drp_list** - список ДРП , наполняется данными из ИСС


Приложение localdicts (большенство справочников отображены в стандартном административном интерфейсе)
-----------------------------------------------------------------------------------------------------

#. **TzList** - Список часовых поясов для выбора отображения даты и времени пользователем.
#. **Status** - для "расшифровки" статусов событий events
#. **Severity** - для "расшифровки" важности событий events
#. **accident_group** - Название группы аварий (унаследован от iss)
#. **accident_list**  - Название аварии (унаследован от iss)
#. **accident_cats** - Категории аварий (унаследован от iss)
#. **address_city** - Справочник городов (унаследован от iss)
#. **address_street** - Справочник улиц (унаследован от iss)
#. **address_house** - Хранимые адреса (номера домов , коды городов, коды улиц) (унаследован от iss)
#. **address_companies** - Справочник компаний (пока две ТТК-Сибирь и РК-Сибирь)
#. **email_templates** - Справочник шаблонов оповещений по email.
#. **address_templates** - Шаблоны для формирования адресов в требуемых для отчетов формах
#. **ports** - Справочник списков разрешенных для использования наименования портов при создании и использовании **devices_scheme**
#. **slots** - Справочник списков разрешенных для использования наименования слотов при создании и использовании **devices_scheme**
#. **interfaces** - Справочник списков разрешенных для использования наименований логических интерфейсов
#. **slot_status** - Статусы слотов (справочник)
#. **port_status** - Статусы портов (справочник)
#. **device_status** - Статусы устройства в целом (справочник)



Приложение equipment
--------------------

#. **devices_ip** - Сведения по ip устройствам, полученные динамически (snmp,lldp)
#. **device_access_error** - (Лог) Список ip устройств , доступ к которым при опросе не был получен.
#. **footnodes** - Справочник опорных узлов.
#. **agregators** - Спраовчник агрегаторов.
#. **scan_iplist** - Справочник ip адресов , по которым происходит опрос устройств по snmp,lldp



agregators
~~~~~~~~~~

Формат хранения uplink-ов
"""""""""""""""""""""""""

Данные uplink-ов хранятся в поле **uplink_ports** (формат поля array)

.. important:: При создании структуры графа от агрегатора и ниже необходимо исключать порты uplink-ов.




devices_ip
~~~~~~~~~~

Формат хранения lldp данных
"""""""""""""""""""""""""""

Данные результатов lldp хранятся в 2-полях **lldp_neighbor_mac**, **ports**

**lldp_neighbor_mac** (формат поля array) - хранятся списки mac адресов соседей, которые "увидел" lldp

**ports** (формат поля json) - хранятся mac адреса соседей с привязкой к порту. Пример ниже:

.. code-block:: python

 {"ports": [{"mac": "ac:f1:df:a4:ce:e0", "port": 1}, {"mac": "ec:22:80:2d:c5:e0", "port": 4}, {"mac": "00:21:91:92:e7:26", "port": 11}, {"mac": "c8:be:19:ff:d5:00", "port": 5}, {"mac": "c8:be:19:ff:91:c0", "port": 8}, {"mac": "c8:be:19:ff:d4:60", "port": 16}, {"mac": "c8:be:19:fc:59:80", "port": 13}, {"mac": "00:22:b0:04:52:f2", "port": 14}, {"mac": "c8:be:19:fc:57:e0", "port": 2}, {"mac": "1c:af:f7:7c:bc:68", "port": 17}, {"mac": "c8:be:19:ff:76:20", "port": 10}, {"mac": "c8:be:19:ff:d3:e0", "port": 7}, {"mac": "84:c9:b2:1c:a6:00", "port": 24}, {"mac": "c8:be:19:ff:d4:20", "port": 9}, {"mac": "ac:f1:df:a4:cd:e0", "port": 3}, {"mac": "c8:be:19:ff:90:e0", "port": 6}]}


Приложение inventory
--------------------

#. **devicves** - для хранения всех устройств сети с привязкой с адресу (город, улица, дом)
#. **devices_scheme** - Справочник типов(моделей) устройств и описание структуры данных
#. **interfaces_scheme** - Справочник типов(моделей) сетевых интерфейсов
#. **devices_removal** - Регистрация перемещения устройств
#. **devices_statuses** - Регистрация установки статусов устройств
#. **devices_properties** - Набор свойств устройства
#. **devices_ports** - Порты устройства
#. **devices_slots** - Слоты устройства
#. **devices_combo** - Комбо порты устройства
#. **netinterfaces** - Сетевые интерфейсы
#. **netelems** - Сетевые элементы
#. **client_dogovor** - Клиентские договоры на порту