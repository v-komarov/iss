.. contents:: Оглавление
    :depth: 3



Инвентори
=========


Модели (схемы)
--------------

Обработка и хранение данных по оборудованию основана на модели (схемы) данных.

Схема храниться в справочнике devices_scheme в виде описания структуры данных формат json

Поля структуры json
~~~~~~~~~~~~~~~~~~~

#. **model_name** - Название модели оборудования - совпадает с полем **name** справочника **devices_scheme**
#. **properties** - Список допустимых атрибутов характерных для данного model_name
    #. **mac** - MAС адрес шасси
    #. **ipaddress** - IP адрес шасси
    #. **unit19** - высота устройства или стойки
    #. **Добавляется по необходимости**
#. **slots_number** - число занимаемых слотов оборудованием (для стоек 1unit - 1слот)
#. **ports** - Списки портов в формате json с полями:
    #. **Номер порта** - 1,2,3...
    #. **Словарь данных**:
        #. **type** - Тип порта , допустимые к использованию типы портов хранятся в таблице **localdicts.ports**
        #. **name** - Название порта с учетом специфики названий портов данного типа оборудования
#. **slots** - Списки слотов в формате json с полями:
    #. **Номер слота** - 1,2,3...
    #. **Словарь данных**:
        #. **type** - Тип слота , допустимые к использованию типы слотов хранятся в таблице **localdicts.slots**
#. **allowed_parrents** - Список допустимых типов слотов (**localdicts.slots**), куда можно включить это оборудование


Пример

 ::

    {
        "model_name": "DES 3200",
        "properties": ["mac","ipaddress"],
        "slots_number": 4,
        "ports": [
            {"1":{"type":"RJ45"}},
            {"2":{"type":"RJ45"}},
            {"3":{"type":"RJ45"}},
            {"4":{"type":"RJ45"}},
            {"5":{"type":"RJ45"}},
            {"6":{"type":"RJ45"}},
            {"7":{"type":"RJ45"}},
            {"8":{"type":"RJ45"}},
            {"9":{"type":"RJ45"}},
            {"10":{"type":"RJ45"}},
            {"11":{"type":"RJ45"}},
            {"12":{"type":"RJ45"}},
            {"13":{"type":"RJ45"}},
            {"14":{"type":"RJ45"}},
            {"15":{"type":"RJ45"}},
            {"16":{"type":"RJ45"}},
            {"17":{"type":"RJ45"}},
            {"18":{"type":"RJ45"}},
        ],
        "slots": [
            {"1":{"type":"SFP"}},
            {"20":{"type":"SFP"}},
            {"3":{"type":"SFP"}},
            {"12":{"type":"SFP"}},
        ],
        "allowed_parrents": ["unit19","shelf"],

    }


