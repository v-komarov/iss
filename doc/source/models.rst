.. contents:: Оглавление
    :depth: 2



Расположение и краткое описание моделей
=======================================


Приложение monitor
------------------

#. **Profile** - для хранения интерфейсных настроек пользователей Оперативного журнала
#. **events** - для хранения событий (загружается из zenoss Красноярска, можно добавлять вручную оператором или формировать на основе почтовых сообщений)
#. **accidents** - для хранения созданных оператором аварий на основе одиночного события или группы событий.
#. **messages** - для хранения подготовленных для рассылки оповещений.
#. **drp_list** - список ДРП , наполняется данными из ИСС


Приложение localdicts (большенство справочников отображены в стандартном административном интерфейсе)
-----------------------------------------------------------------------------------------------------

#. **TzList** - Список часовых поясов для выбора отображения даты и времени пользователем.
#. **Status** - для "расшифровки" статусов событий events
#. **Severity** - для "расшифровки" важности событий events
#. **accident_group** - Название группы аварий (унаследован от iss)
#. **accident_list**  - Название аварии (унаследован от iss)
#. **accident_cats** - Категории аварий (унаследован от iss)
#. **address_city** - Справочник городов (унаследован от iss)
#. **address_street** - Справочник улиц (унаследован от iss)
#. **address_house** - Хранимые адреса (номера домов , коды городов, коды улиц) (унаследован от iss)
#. **address_companies** - Справочник компаний (пока две ТТК-Сибирь и РК-Сибирь)
#. **email_templates** - Справочник шаблонов оповещений по email.
#. **address_templates** - Шаблоны для формирования адресов в требуемых для отчетов формах
#. **ports** - Справочник списков разрешенных для использования наименования портов при создании и использовании **devices_scheme**
#. **slots** - Справочник списков разрешенных для использования наименования слотов при создании и использовании **devices_scheme**
#. **interfaces** - Справочник списков разрешенных для использования наименований логических интерфейсов
#. **slot_status** - Статусы слотов (справочник)
#. **port_status** - Статусы портов (справочник)
#. **device_status** - Статусы устройства в целом (справочник)
#. **logical_interfaces_prop_list** - Справочник свойств логических интерфейсов (справочник)
#. **regions** - Справочник регионов (для Реестра проектов)
#. **blocks** - Справочник блоков (для Реестра проектов)
#. **proj_other_system** - Справочник перечня "Других систем" (для Реестра проектов)
#. **business** - Справочник направления бизнеса (для Реестра проектов)
#. **passing** - Справочник признака переходящего проекта (для Реестра проектов)
#. **ProjDocTypes** - Справочник типов проектных документов (для Реестра проектов)
#. **rates** - Справочник видов доходности (для Реестра проектов)
#. **message_type** - Справочник видов email уведомлений (для Реестра проектов)
#. **stages** - Справочник стадий (для Реестра проектов)
#. **init_reestr_proj** - Справочник инициаторов проекта (для Реестра проектов)
#. **proj_temp** - Справочник типовых шаблонов проекта (Проекты)
#. **cal** - Производственный календарь (не используется)




Приложение equipment
--------------------

#. **devices_ip** - Сведения по ip устройствам, полученные динамически (snmp,lldp)
#. **device_access_error** - (Лог) Список ip устройств , доступ к которым при опросе не был получен.
#. **footnodes** - Справочник опорных узлов.
#. **agregators** - Спраовчник агрегаторов.
#. **scan_iplist** - Справочник ip адресов , по которым происходит опрос устройств по snmp,lldp
#. **client_mac_log** - Для отловленых mac адресов клиентов + ip адреса коммутаторов доступа и номера портов
#. **client_login_log** - Для логинов клиентов + mac адреса + (если есть) circuit-tag. Определение и хранение номеров договоров Onyma


agregators
~~~~~~~~~~

Формат хранения uplink-ов
"""""""""""""""""""""""""

Данные uplink-ов хранятся в поле **uplink_ports** (формат поля array)

.. important:: При создании структуры графа от агрегатора и ниже необходимо исключать порты uplink-ов.




devices_ip
~~~~~~~~~~

Формат хранения lldp данных
"""""""""""""""""""""""""""

Данные результатов lldp хранятся в 2-полях **lldp_neighbor_mac**, **ports**

**lldp_neighbor_mac** (формат поля array) - хранятся списки mac адресов соседей, которые "увидел" lldp

**ports** (формат поля json) - хранятся mac адреса соседей с привязкой к порту. Пример ниже:

.. code-block:: python

 {"ports": [{"mac": "ac:f1:df:a4:ce:e0", "port": 1}, {"mac": "ec:22:80:2d:c5:e0", "port": 4}, {"mac": "00:21:91:92:e7:26", "port": 11}, {"mac": "c8:be:19:ff:d5:00", "port": 5}, {"mac": "c8:be:19:ff:91:c0", "port": 8}, {"mac": "c8:be:19:ff:d4:60", "port": 16}, {"mac": "c8:be:19:fc:59:80", "port": 13}, {"mac": "00:22:b0:04:52:f2", "port": 14}, {"mac": "c8:be:19:fc:57:e0", "port": 2}, {"mac": "1c:af:f7:7c:bc:68", "port": 17}, {"mac": "c8:be:19:ff:76:20", "port": 10}, {"mac": "c8:be:19:ff:d3:e0", "port": 7}, {"mac": "84:c9:b2:1c:a6:00", "port": 24}, {"mac": "c8:be:19:ff:d4:20", "port": 9}, {"mac": "ac:f1:df:a4:cd:e0", "port": 3}, {"mac": "c8:be:19:ff:90:e0", "port": 6}]}


Приложение inventory
--------------------

#. **devicves** - для хранения всех устройств сети с привязкой с адресу (город, улица, дом)
#. **devices_scheme** - Справочник типов(моделей) устройств и описание структуры данных
#. **interfaces_scheme** - Справочник типов(моделей) сетевых интерфейсов
#. **devices_removal** - Регистрация перемещения устройств
#. **devices_statuses** - Регистрация установки статусов устройств
#. **devices_properties** - Набор свойств устройства
#. **devices_ports** - Порты устройства
#. **devices_slots** - Слоты устройства
#. **devices_combo** - Комбо порты устройства
#. **netelems** - Сетевые элементы
#. **logical_interfaces** - Логические интерфейсы
#. **logical_interfaces_prop** - Свойства логических интерфейсов


Приложение regions
------------------

#. **orders** - Заказы ЗИП по регионам (возможно не используется)
#. **reestr** - Таблица для Инвенторизации (не используется)
#. **proj** - Список проектов (Для управления проектами - не используется)
#. **proj_stages** - Стадии проектов (Для управления проектами - не используется)
#. **load_proj_files** - Приложенные файлы к проекту (Для управления проектами - не используется)
#. **proj_notes** - Заменки по этапу проекта (Для управления проектами - не используется)
#. **reestr_proj** - Основная таблица данных (Для реестра и проработки проектов)
#. **stages_history** - История этапов проекта (Для реестра и проработки проектов)
#. **reestr_proj_files** - Файлы приложенные к элементу проекта (Для реестра и проработки проектов)
#. **reestr_proj_comment** - Комментарии по элементу проекта (Для реестра и проработки проектов)
#. **reestr_proj_exec_date** - Исполнители по этапам элемента проекта (Для реестра и проработки проектов)
#. **reestr_proj_messages_history** - История отправки сообщений по элементу проекта (Для реестра и проработки проектов)


Приложение working (учет рабочего времени)
------------------------------------------

#. **marks** - Показатели (справочник)
#. **working_log** - Хранение информации по показателям
#. **working_time** - Основная таблица регистрации работы
#. **working_relax** - Учет перерывов в работе
#. **working_reports** - Отчеты по результатам работы



